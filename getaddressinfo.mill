
#include <stdio.h>
#include <assert.h>
#include <uv.h>

/* Resolve an address. */

coroutine test1 ()
{
    int rc;
    struct addrinfo *ai = 0;
    endvars;

    call getaddressinfo ("example.org", 0, 0, &ai);
    wait (0, &rc);
    assert (rc == 0);
    assert (ai != 0);

    freeaddressinfo (ai);
}

int main ()
{
    test1 ();
    return 0;
}

