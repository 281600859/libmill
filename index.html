<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>mill</title>
  <link rel="stylesheet" type="text/css" href="main.css">
</head>
<body>

<img src="mill.png"/>

<p><b>Go-style concurrency in C</b></p>

<ul id='toplist'>
<li><a href="index.html">Home</a></li>
<li><a href="download.html">Download</a></li>
<li><a href="documentation.html">Documentation</a></li>
<li><a href="development.html">Development</a></li>
<li><a href="community.html">Community</a></li>
</ul>

<p>This project is trying to introduce Go-style concurrency to C.</p>

<h2>Example</h2>

<p class="lang">test.c:</p>
<pre>
#include &lt;stdio.h&gt;
#include &lt;mill.h&gt;

void worker(int count, const char *text, chan ch) {
    int i;
    for(i = 0; i != count; ++i) {
        printf("%s\n", text);
        msleep(10);
    }
    chs(ch, int, 0);
    chclose(ch);
}

int main() {

    chan ch1 = chmake(int, 0, 0);
    go(worker(4, "a", chdup(ch1)));
    chan ch2 = chmake(int, 0, 0);
    go(worker(2, "b", chdup(ch2)));

    choose {
    in(ch1, int, val):
        printf("coroutine 'a' have finished first!\n");
    in(ch2, int, val):
        printf("coroutine 'b' have finished first!\n");
    end
    }

    chclose(ch2);
    chclose(ch1);

    return 0;
}
</pre>

<p>To build the example above:</p>

<pre>
$ gcc -o test test.c mill.c -O0
</pre>

<p>Mill works with x86-64, gcc and Linux or OSX.</p>

<p>The project is in very early stage of development and not suitable for
actual usage.</p>

<h2>License</h2>

<p>Mill is licensed under MIT/X11 license.</p>

</body>
</html>

