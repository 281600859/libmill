
coroutine(int baz, int bar) {
    void *src;
    int event;
body:
    while(1) {
        getevent(&src, &event);
        if (src == hndl && event == 1)
            return;
    }
}

